{% extends "base.html" %}
{% load versioned_static staticfiles mezzanine_tags keyword_tags %}


{% block meta_keywords %}{% metablock %}
{% keywords_for page as keywords %}
{% for keyword in keywords %}
    {% if not forloop.first %}, {% endif %}
    {{ keyword }}
{% endfor %}
{% endmetablock %}{% endblock %}

{% block meta_description %}{% metablock %}
{{ page.description }}
{% endmetablock %}{% endblock %}


{% block extra_css %}
<link href="/static/v1/css/jquery-ui.min.css" rel="stylesheet" type="text/css">
<link href="/static/v1/css/fullcalendar.css" rel="stylesheet" type="text/css">
{% endblock %}

{% block extra_js %}
<script src="/static/v1/js/jquery-ui.custom.min.js"></script>
<script src="/static/v1/js/moment.min.js"></script>
<script src="/static/v1/js/fullcalendar.js"></script>
<script src="/static/v1/js/lang-all.js"></script>
<script>
$(document).ready(function() {
  $('#calendar').fullCalendar({
    header: {
      left: 'prev,next today',
      center: 'title',
      /*right: 'month'*/
    },
    aspectRatio: 2.0,
    editable: false,
    eventLimit: false,
    eventSources: [
    {
      url: '/api/bc/feed/',
      rendering: 'background'
    }
    ]
  });
});
</script>
{% endblock %}


{% block content %}

    <div class="section"> 
        <div class="container container-heading-house">
          <div class="row"> 
            <h1>Availablility</h1>

            <div id='calendar'></div>

            <table class="booking-legend">
                <tr>
                    <td style="background-color:#deffd6;">Available</td>
                    <td style="background-color:#d29898;">Booked</td>
                    <td style="background-color:#b9beff;">Reserved</td>
                </tr>
            </table>
            <h1 class="pricelist">Weekly Pricing</h1>
            <table class="pricelist-table">
            {% for p in prices %}
              <tr><td class="date-cell">{{ p.start }} - {{p.end }}</td><td class="price-cell">&pound;{{ p.price }}</td><tr>
            {% endfor %}
            </table>

            <div class="pagination">
            <span class="step-links">
              {% if prices.has_previous %}
              <a href="?page={{ prices.previous_page_number }}" title="Earlier booking prices">&laquo;&nbsp;Earlier</a>&nbsp;
              {% endif %}

              {% if prices.has_next %}
                &nbsp;<a href="?page={{ prices.next_page_number }}" title="Later booking prices">Next&nbsp;&raquo;</a>
              {% endif %}
            </span>
            </div>
        </div>
      </div>
    </div>

{% endblock %}

